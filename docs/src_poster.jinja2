{% extends "poster.jinja2" %}

{### Header ###}

{% set poster_title = "Lamarr: LHCb ultra-fast simulation based on machine learning models" %}
{% set poster_subtitle = "" %}
{% set venue_long = "21st International Workshop on Advanced Computing and Analysis Techniques in Physics Research" %}
{% set venue_short = "ACAT 2022" %}
{% set webpage_title = poster_title + " (" + venue_short + " poster)" %}
{% set project_url = "" %}
{% set venue_url = "https://indico.cern.ch/event/1106990" %}
{% set contact = "Matteo.Barbetti@fi.infn.it" %}

{% set pub_datetime_iso = "2022-10-23" %}
{% set pub_date = "October 23, 2022" %}

{% block custom_head %}
  <style type="text/css">
    html { font-size: 1.05rem }
  </style>
{% endblock %}

{% block authors %}
  <span class="medium">
    <a property="author">L. Anderlini<sup>a</sup></a>,
    <a property="author"><strong>M. Barbetti</strong><sup>a,b</sup></a>,
    <a property="author">G. Corti<sup>c</sup></a>,
    <a property="author">A. Davis<sup>d</sup></a>,
    <a property="author">D. Derkach<sup>e</sup></a>,
    <a property="author">N. Kazeev<sup>e</sup></a>,
    <a property="author">A. Maevskiy<sup>e</sup></a>,
    <a property="author">S. Mokhnenko<sup>e</sup></a>,
    <a property="author">B. Siddi<sup>f</sup></a>,
    <a property="author">Z. Xu<sup>g</sup></a>
  </span>
{% endblock %}

{% block affiliations %}
  <span class="normal">
    <sup>a</sup><a property="sourceOrganization">INFN-Firenze</a>,
    <sup>b</sup><a property="sourceOrganization">University of Florence</a>,
    <sup>c</sup><a property="sourceOrganization">CERN</a>,
    <sup>d</sup><a property="sourceOrganization">University of Manchester</a>,
    <sup>e</sup><a property="sourceOrganization">HSE University</a>,
    <sup>f</sup><a property="sourceOrganization">University of Ferrara</a>,
    <sup>g</sup><a property="sourceOrganization">Universit√© Clermont Auvergne</a>
  </span>
{% endblock %}

{# Project logos shown on the left side #}
{% block project_logos %}
  <a href="http://lhcb.web.cern.ch"><img src="img/logos/lhcb-logo.png" alt="LHCb logo"></a>
  <img src="img/logos/lamarr-logo-white.png" alt="Lamarr logo">
{% endblock %}

{# Extra logos shown on the right side #}
{% block logos %}
  <a href="{{ venue_url }}"><img src="img/logos/acat-logo-orange.png" alt="ACAT logo"></a>
{% endblock %}

{### Footer ###}

{% block general_info %}
  on behalf of the LHCb Simulation Project
{% endblock %}

{% block contact_info %}
  <a href="mailto:{{ contact }}">{{ contact }}</a>
{% endblock %}

{### Contents ###}

{% block contents %}
  <article>
    <header><h3>1. Motivation</h3></header>
    <p><em>work in progress...</em></p>
  </article>

  <article>
    <header><h3>2. What is Lamarr?</h3></header>
    <p>
      The new <em>ultra-fast simulation</em> framework for LHCb is named <strong>Lamarr</strong> [2]
      and is embedded within the LHCb simulation framework Gauss. Lamarr consists of a pipeline of
      (AI-based) <strong> modular parameterizations</strong> designed to replace both the physics
      simulation and the reconstruction steps.
    <ul>
      <li>Compatibility with LHCb-tuned <strong>generators</strong> (e.g. Pythia8, Particle Guns);</li>
      <li>Promotion of generator-level particles to successfully <strong>reconstructed</strong> candidates;</li>
      <li>Possibility of submitting <em>Lamarr jobs</em> through the LHCb <strong>distributed computing</strong> middleware Dirac;</li>
      <li>Capability of producing datasets with the same <strong>persistency</strong> format as the LHCb physics analysis framework DaVinci.</li>
    </ul>
  </article>

  <article>
    <header><h3>3. AI-based parameterizations</h3></header>
    <p>
      <strong><u>Efficiencies:</u></strong> <em>Gradient Boosted Decision Trees</em> (GBDT) trained 
      on simulated data to predict the fraction of accepted / reconstructed / selected candidates [3].
    </p>
    <hr/>
    <p>
      <strong><u>High-level quantities:</u></strong> Conditional <em>Generative Adversarial Nets</em>
      (GAN) trained on either simulated or calibration data to synthetize the high-level response of 
      LHCb sub-detectors [3].
    </p>
  </article>

  <article>
    <header><h3>4. How to deploy models in Gauss?</h3></header>
    <p>
      Best-performing models can easily replace specific modules without recompiling the whole
      pipeline using the deployment tool <strong><span class="monospace">scikinC</span></strong> [4].
    </p>
    <p>
      <span class="monospace">scikinC</span> translates AI-based parameterizations to be dynamically 
      linked to the main application (Gauss). In this way, models can be developed and released 
      <strong>independently</strong>.
    </p>
  </article>

  <article>
    <header><h3>5. Validation campaign</h3></header>
    <p>
      Lamarr is currently under validation, comparing the distributions of the <strong>analysis-level 
      reconstructed</strong> quantities parameterized with what obtained from <em>detailed 
      simulation</em> for \(\Lambda_b^0 \to \Lambda_c^+ \mu^- X\) decays with 
      \(\Lambda_c^+ \to p K^- \pi^+\) [5]. 
    </p>
    <ul>
      <li>Abundant decay widely studied by LHCb that is part of <em>PID calibration samples</em>;</li>
      <li>It is described by a complex decay model including many feed-down modes;</li>
      <li>It provides examples for <strong>muons</strong>, <strong>pions</strong>, <strong>kaons</strong> and <strong>protons</strong> in a single decay mode.</li>
    </ul>
    <hr/>
    <figure>
      <img style="width: 49%" src="img/lhcb-figs/Py8_Lambda_c_mass.svg" alt="Py8 Lambda_c mass">
      <img style="width: 49%" src="img/lhcb-figs/PGun_Lambda_c_mass.svg" alt="PGun Lambda_c mass">
      <figcaption>
        <small>
          \(\Lambda_c^+\) mass obtained from Pythia8 (left) and Particle Gun (right) generators by 
          Lamarr against detailed simulation [5].
        </small>
      </figcaption>
    </figure>
  </article>

  <article>
    <header><h3>6. Results: Tracking system</h3></header>
    <p><em>work in progress...</em></p>
    <hr/>
    <figure>
      <img style="width: 49%" src="img/lhcb-figs/Py8_proton_IP_chi2.svg" alt="Py8 Proton IP chi2">
      <img style="width: 49%" src="img/lhcb-figs/PGun_proton_IP_chi2.svg" alt="PGun Proton IP chi2">
      <figcaption>
        <small>
          Proton IP \(\chi^2\) obtained from Pythia8 (left) and Particle Gun (right) generators by 
          Lamarr against detailed simulation [5].
        </small>
      </figcaption>
    </figure>
  </article>

  <article>
    <header><h3>7. Results: PID system</h3></header>
    <p><em>work in progress...</em></p>
    <hr/>
    <figure>
      <img style="width: 49%" src="img/lhcb-figs/Py8_eff_TightProtonId.svg" alt="Py8 Proton ID">
      <img style="width: 49%" src="img/lhcb-figs/PGun_eff_TightProtonId.svg" alt="PGun Proton ID">
      <figcaption>
        <small>
          Proton ID efficiency obtained from Pythia8 (left) and Particle Gun (right) generators by 
          Lamarr against detailed simulation [5].
        </small>
      </figcaption>
    </figure>
  </article>

  <article>
    <header><h3>8. Timing performance</h3></header>
    <p><em>work in progress...</em></p>
  </article>

  <article>
    <header><h3>9. Conclusions</h3></header>
    <p><em>work in progress...</em></p>
  </article>

  <article>
    <header><h3>References</h3></header>
    <small>
      <ol>
        <li>L. Anderlini, <em>Machine Learning for the LHCb Simulation</em>, <a href="https://arxiv.org/abs/2110.07925">arXiv:2110.07925</a></li>
        <li>L. Anderlini <em>et al.</em>, <em>Lamarr: the ultra-fast simulation option for the LHCb experiment</em>, <a href="https://doi.org/10.22323/1.414.0233">PoS <strong>ICHEP2022</strong> 233</a> (in preparation)</li>
        <li>LHCb Collaboration, <em>Machine-Learnt parametrizations for the Ultra-Fast Simulation of the LHCb detector</em>, <a href="https://cds.cern.ch/record/2806749">LHCB-FIGURE-2022-004</a></li>
        <li>L. Anderlini and M. Barbetti, <em>scikinC: a tool for deploying machine learning as binaries</em>, <a href="https://doi.org/10.22323/1.409.0034">PoS <strong>CompTools2021</strong> (2022) 034</a></li>
        <li>LHCb Collaboration, <em>Validation of the Lamarr framework with \(\Lambda_b^0 \to \Lambda_c^+ \mu^- X\) decays</em>, <a href="https://cds.cern.ch/record/2814081">LHCB-FIGURE-2022-014</a></li>
      </ol>
    </small>
  </article>
{% endblock %}
